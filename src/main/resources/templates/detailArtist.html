<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/header :: head"></head>

<body class="ember-application">

<div th:replace="fragments/header :: menu"></div>

<div th:replace="fragments/header :: bootstrap"></div>



<div class="container" >
	<div th:if="${artist}">
			<h2>DÃ©tail de l'artiste [[${artist.name}]]</h2>

			<form id="saveForm" th:action="'/artists/update/'+${artist.id}" method="post" class="row" >
				<div class="row">
					<div class="col-lg-12">
						<div class="form-group">
							<label for="name" class="form-control-label">Nom</label>
							<input type="text" id="name" name="name" th:value="${artist.name}" class="ember-text-field form-control ember-view">

							<label for="performance" class="form-control-label">Albums</label>
							<div class="row" th:each="album : ${artist.albums}">
								<div class="col-lg-10">
									<div class="list-group" >
										<li class="list-group-item" th:text="${album.title}"></li>
									</div>
								</div>
								<div class="col-lg-2 text-center">
									<div class="list-group text-center">
										<a  th:href="'/albums/delete/'+${album.id}" class="btn-danger list-group-item list-group-item-action"><span class="glyphicon glyphicon-remove"></span></a>
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
			<div class="row my-5">
				<input form="saveForm" class="btn btn-primary" type="submit" value="Enregistrer">
				<a th:href="'/artists/delete/'+${artist.id}" class="btn btn-danger">Supprimer</a>
			</div>
			</form>
	</div>

	<!--Si pas d'id artist, on affiche seulement le formulaire d'ajout d'un artiste-->
		<div class="col-lg-12" th:unless="${artist}">
			<h2>Ajouter un artiste</h2>
			<form id="saveForm" th:action="'/artists'" method="post" class="row">
				<div class="row">
					<div class="col-lg-12">
						<div class="form-group">
							<label for="name" class="form-control-label">Nom</label>
							<input type="text" id="name" name="name" class="form-control">
						</div>
					</div>
				</div>
			</form>
			<div class="row my-5">
				<input form="saveForm" class="btn btn-primary" type="submit" value="Enregistrer">
				<button class="btn btn-danger"th:if="${artist}">Supprimer</button>
			</div>
		</div>


<!--Ajout d'album-->
	<form id="saveAlbum" th:action="'/albums'" method="post" class="row my-5" th:if="${artist}">
		<input type="hidden" th:value="${artist.id}" name="artist" >
		<div class="row">
			<div class="col-lg-10 form-group">
				<input type="text" id="title" name="title" placeholder="Ajouter un album..." class="form-control ember-text-field ember-view">
			</div>
			<div class="col-lg-2 text-center form-group">
				<input form="saveAlbum" class="btn btn-primary" type="submit" value="Enregistrer">
			</div>
		</div>

	</form>

</div>

</body>
</html>